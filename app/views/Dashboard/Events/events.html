<div s-loading-indicator=""></div>

<div class="events-module-wrapper" ng-show="!busy">

    <!--toggle button-->
    <div class="form-group" ng-show="!showEditForm">
        <div class="col-right">
            <div class="togglebutton">
                Table
                <label>
                    <input type="checkbox" ng-model="toggleViews" ng-change="selectedPage(toggleViews)">
                </label>
                Map
            </div>
        </div>
    </div>
    <div ng-show="!showMap">

        <!--table with events-->
        <table class="table table-striped table-hover" ng-show="!showEditForm">
            <thead>
            <tr>
                <td>id</td>
                <td>Name</td>
                <td>Title</td>
                <td>Date</td>
            </tr>
            </thead>
            <tbody>
            <tr ng-repeat="event in eventList track by $index" class="success" ng-click="toggleShowEditForm(event)">
                <td>{{event.id}}</td>
                <td>{{event.name}}</td>
                <td>{{event.description}}</td>
                <td>{{event.date}}</td>
            </tr>
            </tbody>
        </table>
    </div>

    <!--edit form-->
    <div ng-show="showEditForm">
        <form name="editForm"
              sf-schema="schema"
              sf-form="form"
              sf-model="selectedEvent">
        </form>
        <a class="btn btn-default" ng-click="toggleShowEditForm()">Cancel</a>
        <a class="btn btn-info" ng-click="editEvent(editForm)">Submit</a>
    </div>

    <!--map-->
    <div ng-show="showMap==true" class="map-container">
        <div class="map">
            <logicify-gmap center="gmOpts.center"
                           gm-options="gmOpts"
                           gm-ready="ready"
                           css-options="cssOpts">
            </logicify-gmap>
        </div>
    </div>

</div>



